{
    // Utilisez IntelliSense pour en savoir plus sur les attributs possibles.
    // Pointez pour afficher la description des attributs existants.
    // Pour plus d'informations, visitez : https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "inputs": [
        {
          "type": "pickString",
          "id": "targetSelector",
          "description": "Select a target?",
          "options": [
            "bluepill_boot",
            "bluepill_my_sensor",
            "my_blinky_sim",
            "stm32l4_boot",
            "stm32l4_my_sensor"
          ],
          "default": "stm32l4_my_sensor"
        }],

    "configurations":[
            {
                "name":"Debug w/ ST-LINK-V2",
                "type":"cppdbg",
                "request":"launch",
                "program":"${workspaceRoot}\\bin\\targets\\${input:targetSelector}\\app\\apps\\my_sensor_app\\my_sensor_app.elf",
                "args":[],
                "stopAtEntry":true,
                "cwd":"${workspaceRoot}",
                "environment":[],
                "externalConsole":false,
                "debugServerArgs": "-f interface\\stlink-v2.cfg -f target\\stm32l4x.cfg -c init -c \"reset init\"",
                "serverLaunchTimeout":20000,
                "filterStderr":true,
                "filterStdout":false,
                "serverStarted":"target halted due to debug-request, current mode: Thread",
                "setupCommands":[
                    {
                        "text":"-environment-cd ${workspaceRoot}\\bin\\targets\\${input:targetSelector}\\app\\apps\\my_sensor_app\\"
                    },
                    {
                        "text":"-target-select remote localhost:3333",
                        "description":"connect to target",
                        "ignoreFailures":false
                    },
                    {
                        "text":"-interpreter-exec console \"set remotetimeout 5\"",
                        "description":"Set the timeout limit to wait for the remote target to respond to num seconds. The default is 2 seconds",
                        "ignoreFailures":false
                    },
                    {
                        "text":"-file-exec-and-symbols my_sensor_app.elf",
                        "description":"load file",
                        "ignoreFailures":false
                    },
                    {
                        "text":"-interpreter-exec console \"monitor endian little\"",
                        "ignoreFailures":false
                    },
                    {
                        "text":"-interpreter-exec console \"monitor reset\"",
                        "ignoreFailures":false
                    },
                    {
                        "text":"-interpreter-exec console \"monitor halt\"",
                        "ignoreFailures":false
                    },
                    {
                        "text":"-interpreter-exec console \"monitor arm semihosting enable\"",
                        "ignoreFailures":false
                    },
                    {
                        "text":"-target-download",
                        "description":"flash target",
                        "ignoreFailures":false
                    }
                ],
                "logging":{
                    "moduleLoad":true,
                    "trace":true,
                    "engineLogging":true,
                    "programOutput":true,
                    "exceptions":true
                },
                "linux":{
                    "MIMode":"gdb",
                    "MIDebuggerPath":"/usr/bin/arm-none-eabi-gdb",
                    "debugServerPath":"openocd"
                },
                "osx":{
                    "MIMode":"gdb",
                    "MIDebuggerPath":"/usr/local/bin/arm-none-eabi-gdb",
                    "debugServerPath":"openocd"
                },
                "windows":{
                    "MIMode":"gdb",
                    "MIDebuggerPath":"C:\\Program Files (x86)\\GNU Arm Embedded Toolchain\\7 2018-q2-update\\bin\\arm-none-eabi-gdb.exe",
                    "debugServerPath":"C:\\Dev\\OpenOCD-20200729-0.10.0\\bin\\openocd.exe",              
                }
            }
        ]
}
